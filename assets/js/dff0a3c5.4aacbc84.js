"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[443],{6418:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>r,toc:()=>a});const r=JSON.parse('{"id":"usage/dns","title":"DNS Providers","description":"In Mantrae, you can set up DNS providers and configure them to automatically manage domain entries for your routers. This section explains how to add DNS providers, link them to routers, and manage DNS records for seamless integration with Traefik.","source":"@site/docs/usage/dns.md","sourceDirName":"usage","slug":"/usage/dns","permalink":"/mantrae/usage/dns","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Profiles","permalink":"/mantrae/usage/profiles"},"next":{"title":"Agents","permalink":"/mantrae/usage/agents"}}');var o=i(6070),t=i(7349);const s={sidebar_position:2},l="DNS Providers",d={},a=[{value:"Supported DNS Providers",id:"supported-dns-providers",level:2},{value:"Adding a DNS Provider",id:"adding-a-dns-provider",level:2},{value:"Provider-Specific Configuration",id:"provider-specific-configuration",level:2},{value:"Cloudflare",id:"cloudflare",level:3},{value:"PowerDNS",id:"powerdns",level:3},{value:"Technitium",id:"technitium",level:3},{value:"Setting a DNS Provider in Routers",id:"setting-a-dns-provider-in-routers",level:2},{value:"Automatic Certificate Management",id:"automatic-certificate-management",level:2},{value:"Security Considerations",id:"security-considerations",level:2}];function c(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"dns-providers",children:"DNS Providers"})}),"\n",(0,o.jsx)(n.p,{children:"In Mantrae, you can set up DNS providers and configure them to automatically manage domain entries for your routers. This section explains how to add DNS providers, link them to routers, and manage DNS records for seamless integration with Traefik."}),"\n",(0,o.jsx)(n.h2,{id:"supported-dns-providers",children:"Supported DNS Providers"}),"\n",(0,o.jsx)(n.p,{children:"Mantrae currently supports the following DNS providers:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Cloudflare"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"PowerDNS"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.strong,{children:"Technitium"})}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Each provider can be configured within a profile, allowing you to use different DNS providers for different environments."}),"\n",(0,o.jsx)(n.h2,{id:"adding-a-dns-provider",children:"Adding a DNS Provider"}),"\n",(0,o.jsx)(n.p,{children:"To add a DNS provider:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Select Profile"}),": Ensure you're working with the correct profile"]}),"\n",(0,o.jsxs)(n.li,{children:["Navigate to the ",(0,o.jsx)(n.strong,{children:"DNS"})," section (globe icon)"]}),"\n",(0,o.jsx)(n.li,{children:'Click "Add Provider"'}),"\n",(0,o.jsx)(n.li,{children:"Select your provider from the available options and enter the necessary credentials"}),"\n",(0,o.jsx)(n.li,{children:"For PowerDNS and Technitium you also need to set the endpoint where they are running"}),"\n",(0,o.jsx)(n.li,{children:"Save the provider. It will now be available for selection when configuring routers"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"provider-specific-configuration",children:"Provider-Specific Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"cloudflare",children:"Cloudflare"}),"\n",(0,o.jsx)(n.p,{children:"For Cloudflare, you'll need:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API Token"}),": A scoped API token with DNS permissions"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"powerdns",children:"PowerDNS"}),"\n",(0,o.jsx)(n.p,{children:"For PowerDNS, you'll need:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API URL"}),": The URL to your PowerDNS API"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API Key"}),": The API key for authentication"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"technitium",children:"Technitium"}),"\n",(0,o.jsx)(n.p,{children:"For Technitium DNS, you'll need:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API URL"}),": The URL to your Technitium DNS API"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API Key"}),": The API key for authentication"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Zone Type"}),": The zone type can be either ",(0,o.jsx)(n.code,{children:"primary"})," or ",(0,o.jsx)(n.code,{children:"forwarder"})]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"setting-a-dns-provider-in-routers",children:"Setting a DNS Provider in Routers"}),"\n",(0,o.jsx)(n.p,{children:"Once a DNS provider is configured, you can assign it to specific routers. When you assign a DNS provider to a router:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Mantrae will automatically attempt to add the router's domain name to the configured DNS provider"}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Duplicate Check"}),": If the domain already exists, Mantrae will skip it to avoid overwriting any existing records"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Default"}),': Setting a provider as "Default" will automatically use it on newly created routers, so if no DNS provider is assigned to the router, Mantrae will use the default DNS provider']}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"automatic-certificate-management",children:"Automatic Certificate Management"}),"\n",(0,o.jsx)(n.p,{children:"When using DNS providers with Traefik:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Traefik will automatically request certificates for configured domains"}),"\n",(0,o.jsx)(n.li,{children:"Mantrae will provide the DNS provider credentials to Traefik through the dynamic configuration"}),"\n",(0,o.jsx)(n.li,{children:"Traefik will create the necessary DNS challenge records"}),"\n",(0,o.jsx)(n.li,{children:"Certificates will be automatically renewed as needed"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"security-considerations",children:"Security Considerations"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"DNS provider credentials are stored encrypted in the database"}),"\n",(0,o.jsx)(n.li,{children:"Each profile can have its own set of DNS providers"}),"\n",(0,o.jsx)(n.li,{children:"Credentials are only accessible to the profile they belong to"}),"\n",(0,o.jsx)(n.li,{children:"API tokens should follow the principle of least privilege"}),"\n"]}),"\n",(0,o.jsxs)(n.blockquote,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Note"}),": This DNS automation only applies if no entry for the domain exists. Ensure your domain records are unique to prevent conflicts."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},7349:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>l});var r=i(758);const o={},t=r.createContext(o);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);