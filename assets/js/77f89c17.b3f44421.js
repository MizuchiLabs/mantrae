"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[51],{3608:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"installation","title":"Installation","description":"Follow these instructions to install and start using Mantrae with Traefik.","source":"@site/docs/02-installation.md","sourceDirName":".","slug":"/installation","permalink":"/mantrae/docs/installation","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Welcome to Mantrae","permalink":"/mantrae/docs/intro"},"next":{"title":"Usage","permalink":"/mantrae/docs/category/usage"}}');var i=t(6070),r=t(5658);const o={sidebar_position:2},a="Installation",l={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installation Options",id:"installation-options",level:2},{value:"Option 1: Download the Binary",id:"option-1-download-the-binary",level:3},{value:"Option 2: Use Docker",id:"option-2-use-docker",level:3},{value:"Option 3: Docker Compose (Mantrae + Traefik)",id:"option-3-docker-compose-mantrae--traefik",level:3},{value:"Access the Web UI",id:"access-the-web-ui",level:2},{value:"CLI Options",id:"cli-options",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"installation",children:"Installation"})}),"\n",(0,i.jsx)(n.p,{children:"Follow these instructions to install and start using Mantrae with Traefik."}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Install Traefik"}),": Ensure you have a running instance of ",(0,i.jsx)(n.a,{href:"https://traefik.io/",children:"Traefik"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Generate a Secret"}),": Create a secure, random secret key to use with Mantrae:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"openssl rand -hex 32\n"})}),"\n","Copy the generated secret as you\u2019ll need it in the next steps."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"installation-options",children:"Installation Options"}),"\n",(0,i.jsx)(n.h3,{id:"option-1-download-the-binary",children:"Option 1: Download the Binary"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Visit the ",(0,i.jsx)(n.a,{href:"https://github.com/mizuchilabs/mantrae/releases",children:"releases page"})," to download the latest Mantrae binary for your platform."]}),"\n",(0,i.jsxs)(n.li,{children:["Run the binary with:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"export SECRET=<your_secret>\n./mantrae\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"option-2-use-docker",children:"Option 2: Use Docker"}),"\n",(0,i.jsx)(n.p,{children:"Run Mantrae in a Docker container:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker run --name mantrae -e SECRET=<your_secret> -d -p 3000:3000 ghcr.io/mizuchilabs/mantrae:latest\n"})}),"\n",(0,i.jsx)(n.h3,{id:"option-3-docker-compose-mantrae--traefik",children:"Option 3: Docker Compose (Mantrae + Traefik)"}),"\n",(0,i.jsxs)(n.p,{children:["Use the provided ",(0,i.jsx)(n.code,{children:"docker-compose.yml"})," file to deploy Mantrae and Traefik together."]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Download the example ",(0,i.jsx)(n.a,{href:"https://github.com/mizuchilabs/mantrae/blob/main/docker-compose.yml",children:"docker-compose.yml"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Run the following command to start both services:","\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"access-the-web-ui",children:"Access the Web UI"}),"\n",(0,i.jsx)(n.p,{children:"Once Mantrae is running, open your browser and navigate to:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.a,{href:"http://localhost:3000",children:"http://localhost:3000"})}),"\n",(0,i.jsxs)(n.p,{children:["Log in using the user ",(0,i.jsx)(n.code,{children:"admin"})," and the generated password, which will display on the first run."]}),"\n",(0,i.jsx)(n.h2,{id:"cli-options",children:"CLI Options"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-version"}),": Print the version."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-config"}),": Specify the path where the database should be stored. (Default: ",(0,i.jsx)(n.code,{children:"./mantrae.db"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-port"}),": Set the port to listen on. (Default: ",(0,i.jsx)(n.code,{children:"3000"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-update"}),": Update mantrae to the latest version. (Will not work inside docker container!)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-reset"}),": Reset the admin password. Will generate a new one and print it to the console."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-auth"}),": Enable basic auth for the profile endpoint. (Default: ",(0,i.jsx)(n.code,{children:"false"}),"). This will protect the ",(0,i.jsx)(n.code,{children:"/api/<profilename>"})," endpoint using BasicAuth. If you enable this you need to set the correct headers in Traefik so it can fetch the data. Example default mantrae user is ",(0,i.jsx)(n.code,{children:"admin"})," and password is ",(0,i.jsx)(n.code,{children:"supersecret"}),", use ",(0,i.jsx)(n.code,{children:'echo -n "admin:supersecret" | base64'})," to generate the Credentials. After that you can configure the http provider in Traefik: ",(0,i.jsx)(n.code,{children:"providers.http.headers.Authorization=Basic YWRtaW46c3VwZXJzZWNyZXQ="})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Optionally you can set the default profile by providing the flags below:"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-url"}),": Set the URL of the Traefik instance. (e.g.: ",(0,i.jsx)(n.code,{children:"http://localhost:8080"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-username"}),": Set the username for basic auth, if your Traefik instance uses basic auth. (e.g.: ",(0,i.jsx)(n.code,{children:"admin"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"-password"}),": Set the password for basic auth. (e.g.: ",(0,i.jsx)(n.code,{children:"supersecret"}),")"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},5658:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(758);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);