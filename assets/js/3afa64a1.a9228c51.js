"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[948],{7127:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>p,frontMatter:()=>s,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"usage/profiles","title":"Profiles","description":"Profiles in Mantrae allow you to manage multiple Traefik instances from a single interface. Each profile represents a distinct Traefik configuration environment, such as development, staging, or production.","source":"@site/docs/usage/profiles.md","sourceDirName":"usage","slug":"/usage/profiles","permalink":"/mantrae/usage/profiles","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"API Reference","permalink":"/mantrae/api"},"next":{"title":"DNS Providers","permalink":"/mantrae/usage/dns"}}');var o=i(6070),t=i(7168);const s={sidebar_position:3},a="Profiles",l={},c=[{value:"Understanding Profiles",id:"understanding-profiles",level:2},{value:"Creating a Profile",id:"creating-a-profile",level:2},{value:"Using Profiles with Traefik",id:"using-profiles-with-traefik",level:2},{value:"Dynamic Configuration Endpoint",id:"dynamic-configuration-endpoint",level:3},{value:"Configure Traefik to Use Mantrae",id:"configure-traefik-to-use-mantrae",level:3},{value:"Using Static Configuration File",id:"using-static-configuration-file",level:4},{value:"Using Command Line Arguments",id:"using-command-line-arguments",level:4},{value:"Using Environment Variables",id:"using-environment-variables",level:4},{value:"Profile-Specific Configuration",id:"profile-specific-configuration",level:2},{value:"Managing Multiple Profiles",id:"managing-multiple-profiles",level:2}];function d(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"profiles",children:"Profiles"})}),"\n",(0,o.jsx)(n.p,{children:"Profiles in Mantrae allow you to manage multiple Traefik instances from a single interface. Each profile represents a distinct Traefik configuration environment, such as development, staging, or production."}),"\n",(0,o.jsx)(n.h2,{id:"understanding-profiles",children:"Understanding Profiles"}),"\n",(0,o.jsx)(n.p,{children:"A profile is a logical grouping of:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Routers (HTTP, TCP, UDP)"}),"\n",(0,o.jsx)(n.li,{children:"Services (HTTP, TCP, UDP)"}),"\n",(0,o.jsx)(n.li,{children:"Middlewares (HTTP, TCP)"}),"\n",(0,o.jsx)(n.li,{children:"Entry Points"}),"\n",(0,o.jsx)(n.li,{children:"Servers Transports"}),"\n",(0,o.jsx)(n.li,{children:"DNS Providers"}),"\n",(0,o.jsx)(n.li,{children:"Agents"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Each profile has its own dynamic configuration endpoint that Traefik instances can consume."}),"\n",(0,o.jsx)(n.h2,{id:"creating-a-profile",children:"Creating a Profile"}),"\n",(0,o.jsx)(n.p,{children:"To create a new profile:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Access the Web UI"}),": Log into Mantrae at ",(0,o.jsx)(n.code,{children:"http://localhost:3000"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Navigate to Profiles"}),": Click on the profile dropdown in the top navigation bar"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Create New Profile"}),': Select "Create New Profile"']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Configure Profile Details"}),":","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Name"}),": A unique identifier for this profile (e.g., ",(0,o.jsx)(n.code,{children:"production"}),", ",(0,o.jsx)(n.code,{children:"staging"}),")"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Description"}),": Optional description of the profile's purpose"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Token"}),": A security token for accessing this profile's configuration (auto-generated)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Once saved, this profile will serve as a dedicated space for managing Traefik configurations specific to this environment."}),"\n",(0,o.jsx)(n.h2,{id:"using-profiles-with-traefik",children:"Using Profiles with Traefik"}),"\n",(0,o.jsx)(n.p,{children:"Each profile in Mantrae exposes a unique API endpoint that Traefik can use to fetch its dynamic configuration."}),"\n",(0,o.jsx)(n.h3,{id:"dynamic-configuration-endpoint",children:"Dynamic Configuration Endpoint"}),"\n",(0,o.jsxs)(n.p,{children:["For a profile named ",(0,o.jsx)(n.code,{children:"production"}),", the dynamic configuration endpoint would be:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"http://mantrae:3000/api/production?token=GENERATED_TOKEN\n"})}),"\n",(0,o.jsx)(n.h3,{id:"configure-traefik-to-use-mantrae",children:"Configure Traefik to Use Mantrae"}),"\n",(0,o.jsx)(n.p,{children:"Configure your Traefik instance to use Mantrae as its dynamic configuration provider:"}),"\n",(0,o.jsx)(n.h4,{id:"using-static-configuration-file",children:"Using Static Configuration File"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'providers:\n  http:\n    endpoint: "http://mantrae:3000/api/production?token=GENERATED_TOKEN"\n    pollInterval: "5s" # Optional: polling interval for configuration updates\n'})}),"\n",(0,o.jsx)(n.h4,{id:"using-command-line-arguments",children:"Using Command Line Arguments"}),"\n",(0,o.jsx)(n.p,{children:"In Docker Compose:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"traefik:\n  image: traefik:latest\n  container_name: traefik\n  command:\n    - --providers.http.endpoint=http://mantrae:3000/api/production?token=GENERATED_TOKEN\n    - --providers.http.pollInterval=5s\n    # ... other Traefik configuration\n"})}),"\n",(0,o.jsx)(n.h4,{id:"using-environment-variables",children:"Using Environment Variables"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"TRAEFIK_PROVIDERS_HTTP_ENDPOINT=http://mantrae:3000/api/production?token=GENERATED_TOKEN\nTRAEFIK_PROVIDERS_HTTP_POLLINTERVAL=5s\n"})}),"\n",(0,o.jsx)(n.h2,{id:"profile-specific-configuration",children:"Profile-Specific Configuration"}),"\n",(0,o.jsx)(n.p,{children:"Each profile maintains its own separate configuration space. This means:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Routers created in the ",(0,o.jsx)(n.code,{children:"production"})," profile are completely isolated from those in the ",(0,o.jsx)(n.code,{children:"staging"})," profile"]}),"\n",(0,o.jsx)(n.li,{children:"Services, middlewares, and other components are profile-specific"}),"\n",(0,o.jsx)(n.li,{children:"Agents can be assigned to specific profiles"}),"\n",(0,o.jsx)(n.li,{children:"DNS providers can be configured per profile"}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"managing-multiple-profiles",children:"Managing Multiple Profiles"}),"\n",(0,o.jsx)(n.p,{children:"You can easily switch between profiles using the profile dropdown in the Mantrae web interface:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Click the current profile name in the top navigation bar"}),"\n",(0,o.jsx)(n.li,{children:"Select the profile you want to work with from the dropdown"}),"\n",(0,o.jsx)(n.li,{children:"All subsequent actions will apply to the selected profile"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"This allows you to manage multiple Traefik environments without switching between different Mantrae instances."})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},7168:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>a});var r=i(758);const o={},t=r.createContext(o);function s(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);