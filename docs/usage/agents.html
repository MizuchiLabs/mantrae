<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-usage/agents" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Agents | Mantrae</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://mizuchi.dev/mantrae/docs/usage/agents"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Agents | Mantrae"><meta data-rh="true" name="description" content="Agents extend the functionality of your Traefik setup by allowing you to collect Docker container information from machines that don’t have Traefik installed. This way, you can apply Traefik labels on containers across multiple hosts, and the agent will sync this data with your main Traefik instance."><meta data-rh="true" property="og:description" content="Agents extend the functionality of your Traefik setup by allowing you to collect Docker container information from machines that don’t have Traefik installed. This way, you can apply Traefik labels on containers across multiple hosts, and the agent will sync this data with your main Traefik instance."><link data-rh="true" rel="icon" href="/mantrae/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mizuchi.dev/mantrae/docs/usage/agents"><link data-rh="true" rel="alternate" href="https://mizuchi.dev/mantrae/docs/usage/agents" hreflang="en"><link data-rh="true" rel="alternate" href="https://mizuchi.dev/mantrae/docs/usage/agents" hreflang="x-default"><link rel="stylesheet" href="/mantrae/assets/css/styles.de1ce505.css">
<script src="/mantrae/assets/js/runtime~main.b0a372aa.js" defer="defer"></script>
<script src="/mantrae/assets/js/main.3a60032b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_gxja" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_TZq6" style="background-color:var(--ifm-color-primary);color:var(--ifm-color-white)" role="banner"><div class="announcementBarPlaceholder_ABPk"></div><div class="content_PozF announcementBarContent_PrFI">If you like Mantrae, <a href="https://github.com/mizuchilabs/mantrae" rel="noopener noreferrer" target="_blank">give us a star on GitHub</a>! ⭐️</div><button type="button" aria-label="Close" class="clean-btn close closeButton_vPFH announcementBarClose_jwMS"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/mantrae/"><div class="navbar__logo"><img src="/mantrae/img/logo.svg" alt="Mantrae Logo" class="themedComponent_iFKY themedComponent--light_RCKG"><img src="/mantrae/img/logo.svg" alt="Mantrae Logo" class="themedComponent_iFKY themedComponent--dark_Rnge"></div><b class="navbar__title text--truncate">Mantrae</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/mantrae/docs/intro">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/mizuchilabs/mantrae" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://buymeacoffee.com/d34dscene" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-coffee-link" aria-label="Support the project"></a><div class="toggle_TDMM colorModeToggle_qim1"><button class="clean-btn toggleButton_aHzf toggleButtonDisabled_B7Za" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_uKZx"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_u6R4"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_u2JP"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_uhSH"><div class="docsWrapper_PpPa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_FAYF" type="button"></button><div class="docRoot_e2wH"><aside class="theme-doc-sidebar-container docSidebarContainer_WjKZ"><div class="sidebarViewport_YShy"><div class="sidebar_qh1B"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_gWfZ menuWithAnnouncementBar_ypQy"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mantrae/docs/intro">Welcome to Mantrae</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mantrae/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/mantrae/docs/category/usage">Usage</a><button aria-label="Collapse sidebar category &#x27;Usage&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mantrae/docs/usage/profiles">Profiles</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mantrae/docs/usage/dns">DNS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/mantrae/docs/usage/agents">Agents</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mantrae/docs/usage/environment">Environment Variables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/mantrae/docs/usage/backups">Backups &amp; Restoration</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/mantrae/docs/faq">FAQ</a></li></ul></nav></div></div></aside><main class="docMainContainer_EAp1"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_ZNQZ"><div class="docItemContainer_Oe8m"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_hrHm" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/mantrae/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_GtqH"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/mantrae/docs/category/usage"><span itemprop="name">Usage</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Agents</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_Rhr8 theme-doc-toc-mobile tocMobile_ynt9"><button type="button" class="clean-btn tocCollapsibleButton_y_1j">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Agents</h1></header>
<p>Agents extend the functionality of your Traefik setup by allowing you to collect Docker container information from machines that don’t have Traefik installed. This way, you can apply Traefik labels on containers across multiple hosts, and the agent will sync this data with your main Traefik instance.</p>
<h2 class="anchor anchorWithStickyNavbar_o6du" id="how-agents-work">How Agents Work<a href="#how-agents-work" class="hash-link" aria-label="Direct link to How Agents Work" title="Direct link to How Agents Work">​</a></h2>
<p>An agent is a standalone binary that runs on any machine where you want to manage remote containers. Each agent:</p>
<ul>
<li>Collects Docker container metadata and Traefik labels.</li>
<li>Communicates with the Mantrae server, sending back container info for unified management.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_o6du" id="setting-up-an-agent">Setting Up an Agent<a href="#setting-up-an-agent" class="hash-link" aria-label="Direct link to Setting Up an Agent" title="Direct link to Setting Up an Agent">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_o6du" id="step-1-set-the-server-address">Step 1: Set the Server Address<a href="#step-1-set-the-server-address" class="hash-link" aria-label="Direct link to Step 1: Set the Server Address" title="Direct link to Step 1: Set the Server Address">​</a></h3>
<p>In the settings, specify the <strong>server address</strong> for your Mantrae server. This address must be accessible by the agent to ensure successful communication.</p>
<blockquote>
<p><strong>Note</strong>: If Mantrae is hosted on a public IP or domain (e.g., <code>https://mantrae.example.com</code>), configure this as the server address so agents can connect reliably.</p>
</blockquote>
<h3 class="anchor anchorWithStickyNavbar_o6du" id="step-2-generate-and-copy-the-agent-token">Step 2: Generate and Copy the Agent Token<a href="#step-2-generate-and-copy-the-agent-token" class="hash-link" aria-label="Direct link to Step 2: Generate and Copy the Agent Token" title="Direct link to Step 2: Generate and Copy the Agent Token">​</a></h3>
<ol>
<li>In the Mantrae UI, navigate to the <strong>Agents</strong> tab.</li>
<li>Add a new agent by clicking the <strong>Add Agent</strong> button.</li>
<li>Copy the generated agent token by using the <strong>Copy Token</strong> button.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_o6du" id="step-3-run-the-mantrae-agent">Step 3: Run the Mantrae Agent<a href="#step-3-run-the-mantrae-agent" class="hash-link" aria-label="Direct link to Step 3: Run the Mantrae Agent" title="Direct link to Step 3: Run the Mantrae Agent">​</a></h3>
<ol>
<li>Download the agent binary for your platform. (Or start the agent in a container.)</li>
<li>Run the agent with the token using the following command:<!-- -->
<div class="language-bash codeBlockContainer_WqwP theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_BCYB"><pre tabindex="0" class="prism-code language-bash codeBlock_rT2Z thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_upJW"><span class="token-line" style="color:#393A34"><span class="token plain">TOKEN=YOUR_TOKEN ./mantrae-agent</span><br></span></code></pre><div class="buttonGroup_JImx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_F1De" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_Y2Fs"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_F4T0"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>Ensure that the machine running the agent has Docker installed, as it will gather container details from the Docker daemon.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_o6du" id="use-case-traefik-labels-on-remote-hosts">Use Case: Traefik Labels on Remote Hosts<a href="#use-case-traefik-labels-on-remote-hosts" class="hash-link" aria-label="Direct link to Use Case: Traefik Labels on Remote Hosts" title="Direct link to Use Case: Traefik Labels on Remote Hosts">​</a></h2>
<p>Once the agent is running, you can set Traefik labels on containers located on the agent’s host machine as you normally would for Traefik. The agent collects these labels and sends them to the Mantrae server, where they are applied to the main Traefik instance.</p>
<p>This setup allows you to centralize routing configurations across multiple hosts without installing Traefik on each machine.</p>
<hr>
<p>Using agents, you can scale your Traefik configuration effortlessly, managing containers across multiple machines from a single, centralized Mantrae server.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/mantrae/docs/usage/dns"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">DNS</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/mantrae/docs/usage/environment"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Environment Variables</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_CxEX thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-agents-work" class="table-of-contents__link toc-highlight">How Agents Work</a></li><li><a href="#setting-up-an-agent" class="table-of-contents__link toc-highlight">Setting Up an Agent</a><ul><li><a href="#step-1-set-the-server-address" class="table-of-contents__link toc-highlight">Step 1: Set the Server Address</a></li><li><a href="#step-2-generate-and-copy-the-agent-token" class="table-of-contents__link toc-highlight">Step 2: Generate and Copy the Agent Token</a></li><li><a href="#step-3-run-the-mantrae-agent" class="table-of-contents__link toc-highlight">Step 3: Run the Mantrae Agent</a></li></ul></li><li><a href="#use-case-traefik-labels-on-remote-hosts" class="table-of-contents__link toc-highlight">Use Case: Traefik Labels on Remote Hosts</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/mantrae/docs/intro">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/mantrae/docs/category/usage">Usage</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://mizuchi.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Mizuchi Labs</a></li><li class="footer__item"><a href="https://github.com/mizuchilabs/mantrae" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_MT2N"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Mizuchi Labs, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>